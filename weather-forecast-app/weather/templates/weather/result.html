{% extends 'weather/base.html' %}

{% block title %}Weather in {{ weather.city_name }}{% endblock %}

{% block content %}
<div class="weather-card">
    <!-- Back Button -->
    <a href="{% url 'home' %}" class="btn btn-outline-secondary mb-4">
        <i class="fas fa-arrow-left me-2"></i> Back to Search
    </a>
    
    <!-- Main Weather Display -->
    <div class="row align-items-center mb-5">
        <div class="col-lg-6 text-center text-lg-start">
            <h1 class="city-name mb-2">{{ weather.city_name }}, {{ weather.country }}</h1>
            <p class="weather-condition mb-4">
                <i class="fas fa-clock me-2"></i>
                {{ search_record.date_searched|date:"F d, Y • h:i A" }}
            </p>
            
            <div class="temperature-display mb-3">
                {{ weather.temperature|floatformat:1 }}°C
            </div>
            
            <div class="weather-condition mb-4">
                <i class="fas fa-cloud me-2"></i>
                {{ weather.weather_description|title }}
            </div>
            
            <!-- Action Buttons -->
            <div class="d-flex gap-3 flex-wrap">
                <a href="{% url 'home' %}" class="btn btn-primary">
                    <i class="fas fa-search me-2"></i> New Search
                </a>
                <a href="{% url 'history' %}" class="btn btn-outline-primary">
                    <i class="fas fa-history me-2"></i> View History
                </a>
            </div>
        </div>
        
        <div class="col-lg-6 text-center">
            <div class="weather-icon">
                {% with desc=weather.weather_description|lower %}
                    {% if "clear" in desc %}
                        <i class="fas fa-sun"></i>
                    {% elif "cloud" in desc %}
                        <i class="fas fa-cloud"></i>
                    {% elif "rain" in desc or "drizzle" in desc %}
                        <i class="fas fa-cloud-rain"></i>
                    {% elif "snow" in desc %}
                        <i class="fas fa-snowflake"></i>
                    {% elif "thunder" in desc or "storm" in desc %}
                        <i class="fas fa-bolt"></i>
                    {% elif "mist" in desc or "fog" in desc %}
                        <i class="fas fa-smog"></i>
                    {% else %}
                        <i class="fas fa-cloud-sun"></i>
                    {% endif %}
                {% endwith %}
            </div>
        </div>
    </div>
    
    <!-- Weather Details Grid -->
    <div class="row g-4">
        <div class="col-md-6">
            <div class="detail-card">
                <div class="detail-icon">
                    <i class="fas fa-tint"></i>
                </div>
                <h5>Humidity</h5>
                <div class="display-6 fw-bold text-primary mb-2">
                    {{ weather.humidity }}%
                </div>
                <p class="text-muted mb-0">Current humidity level</p>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="detail-card">
                <div class="detail-icon">
                    <i class="fas fa-wind"></i>
                </div>
                <h5>Wind Speed</h5>
                <div class="display-6 fw-bold text-primary mb-2">
                    {{ weather.wind_speed }} m/s
                </div>
                <p class="text-muted mb-0">Current wind conditions</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}